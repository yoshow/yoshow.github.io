<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: core/x.expressions.js - 帮助手册</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script >
    window.onload = function()
    {
        var div = document.getElementById('main');
        if(div)
        {
            var windowWidth = null;

            if (window.innerWidth)
            {
                // all except Explorer
                if (document.documentElement.clientWidth)
                {
                    windowWidth = document.documentElement.clientWidth;
                }
                else
                {
                    windowWidth = window.innerWidth;
                }
            }
            else if (document.documentElement && document.documentElement.clientWidth)
            {
                // IE
                windowWidth = document.documentElement.clientWidth;
            }
            else if (document.body)
            {
                // other Explorers
                windowWidth = document.body.clientWidth;
            }

            div.style.width = (windowWidth - 260) + 'px';
        }
    }
    </script>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default-fixed.css">
</head>

<body>

<nav>
    <h2><a href="index.html">首页</a></h2><h3>类<br />Classes</h3><ul><li><a href="x.date.newTime.html">newTime</a></li><li><a href="x.date.newTimeSpan.html">newTimeSpan</a></li><li><a href="x.newHashTable.html">newHashTable</a></li><li><a href="x.newQueue.html">newQueue</a></li><li><a href="x.newStack.html">newStack</a></li><li><a href="x.newStringBuilder.html">newStringBuilder</a></li><li><a href="x.newTimer.html">newTimer</a></li><li><a href="x.ui.mask.newMaskWrapper.html">newMaskWrapper</a></li><li><a href="x.ui.pkg.tabs.newTabs.html">newTabs</a></li><li><a href="x.ui.pkg.tree.newTreeView.html">newTreeView</a></li><li><a href="x.ui.tooltip.newTooltip.html">newTooltip</a></li><li><a href="x.ui.tooltip.newWarnTooltip.html">newWarnTooltip</a></li><li><a href="x.ui.tree.newTreeNode.html">newTreeNode</a></li></ul><h3>名称空间<br />Namespaces</h3><ul><li><a href="x.html">x</a></li><li><a href="x.browser.html">x.browser</a></li><li><a href="x.browser.features.html">x.browser.features</a></li><li><a href="x.color.html">x.color</a></li><li><a href="x.cookies.html">x.cookies</a></li><li><a href="x.css.html">x.css</a></li><li><a href="x.date.html">x.date</a></li><li><a href="x.debug.html">x.debug</a></li><li><a href="x.dom.html">x.dom</a></li><li><a href="x.encoding.html">x.encoding</a></li><li><a href="x.encoding.html.html">x.encoding.html</a></li><li><a href="x.encoding.unicode.html">x.encoding.unicode</a></li><li><a href="x.expressions.html">x.expressions</a></li><li><a href="x.guid.html">x.guid</a></li><li><a href="x.net.html">x.net</a></li><li><a href="x.net.request.html">x.net.request</a></li><li><a href="x.page.html">x.page</a></li><li><a href="x.randomText.html">x.randomText</a></li><li><a href="x.string.html">x.string</a></li><li><a href="x.ui.html">x.ui</a></li><li><a href="x.ui.animation.html">x.ui.animation</a></li><li><a href="x.ui.animation.tween.html">x.ui.animation.tween</a></li><li><a href="x.ui.animation.tween.back.html">x.ui.animation.tween.back</a></li><li><a href="x.ui.animation.tween.bounce.html">x.ui.animation.tween.bounce</a></li><li><a href="x.ui.animation.tween.circ.html">x.ui.animation.tween.circ</a></li><li><a href="x.ui.animation.tween.cubic.html">x.ui.animation.tween.cubic</a></li><li><a href="x.ui.animation.tween.elastic.html">x.ui.animation.tween.elastic</a></li><li><a href="x.ui.animation.tween.expo.html">x.ui.animation.tween.expo</a></li><li><a href="x.ui.animation.tween.quad.html">x.ui.animation.tween.quad</a></li><li><a href="x.ui.animation.tween.quart.html">x.ui.animation.tween.quart</a></li><li><a href="x.ui.animation.tween.quint.html">x.ui.animation.tween.quint</a></li><li><a href="x.ui.animation.tween.sine.html">x.ui.animation.tween.sine</a></li><li><a href="x.ui.dialogs.html">x.ui.dialogs</a></li><li><a href="x.ui.drag.html">x.ui.drag</a></li><li><a href="x.ui.mask.html">x.ui.mask</a></li><li><a href="x.ui.pkg.html">x.ui.pkg</a></li><li><a href="x.ui.pkg.slide.html">x.ui.pkg.slide</a></li><li><a href="x.ui.pkg.tabs.html">x.ui.pkg.tabs</a></li><li><a href="x.ui.pkg.tree.html">x.ui.pkg.tree</a></li><li><a href="x.ui.tooltip.html">x.ui.tooltip</a></li><li><a href="x.ui.util.html">x.ui.util</a></li><li><a href="x.ui.windows.html">x.ui.windows</a></li></ul>
</nav>

<div id="main">

    <h1 class="page-title">Source: core/x.expressions.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>﻿// -*- ecoding=utf-8 -*-

/**
* @namespace expressions
* @memberof x
* @description 正则表达式管理
*/
x.expressions = {
    /** 
    * 规则集合
    * @member {object} rules 
    * @memberof x.expressions
    * @example
    * // 返回邮箱地址的正则表达式
    * x.expressions.rules['email'];
    */
    rules: {
        // -----------------------------------------------------------------------------
        // 正则表达式全部符号解释
        // -----------------------------------------------------------------------------
        // \            将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。
        //              例如，'n' 匹配字符 "n"。'\n' 匹配一个换行符。序列 '\\' 匹配 "\" 而 "\(" 则匹配 "("。
        // ^            匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^ 也匹配 '\n' 或 '\r' 之后的位置。
        // $            匹配输入字符串的结束位置。如果设置了RegExp 对象的 Multiline 属性，$ 也匹配 '\n' 或 '\r' 之前的位置。
        // *            匹配前面的子表达式零次或多次。例如，zo* 能匹配 "z" 以及 "zoo"。* 等价于{0,}。
        // +            匹配前面的子表达式一次或多次。例如，'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。+ 等价于 {1,}。
        // ?            匹配前面的子表达式零次或一次。例如，"do(es)?" 可以匹配 "do" 或 "does" 中的"do" 。? 等价于 {0,1}。
        // {n}          n 是一个非负整数。匹配确定的 n 次。例如，'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。
        // {n,}         n 是一个非负整数。至少匹配n 次。例如，'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。
        //              'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'。
        // {n,m}        m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，"o{1,3}" 将匹配 "fooooood" 中的前三个 o。
        //              'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格。
        // ?	        当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 "oooo"，'o+?' 将匹配单个 "o"，而 'o+' 将匹配所有 'o'。
        // .	        匹配除 "\n" 之外的任何单个字符。要匹配包括 '\n' 在内的任何字符，请使用象 '[.\n]' 的模式。
        // (pattern)	匹配 pattern 并获取这一匹配。所获取的匹配可以从产生的 Matches 集合得到，在VBScript 中使用 SubMatches 集合，在JScript 中则使用 $0…$9 属性。要匹配圆括号字符，请使用 '\(' 或 '\)'。
        // (?:pattern)	匹配 pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用 "或" 字符 (|) 来组合一个模式的各个部分是很有用。例如， 'industr(?:y|ies) 就是一个比 'industry|industries' 更简略的表达式。
        // (?=pattern)	正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，'Windows (?=95|98|NT|2000)' 能匹配 "Windows 2000" 中的 "Windows" ，但不能匹配 "Windows 3.1" 中的 "Windows"。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。
        // (?!pattern)	负向预查，在任何不匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如'Windows (?!95|98|NT|2000)' 能匹配 "Windows 3.1" 中的 "Windows"，但不能匹配 "Windows 2000" 中的 "Windows"。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始
        // x|y	        匹配 x 或 y。例如，'z|food' 能匹配 "z" 或 "food"。'(z|f)ood' 则匹配 "zood" 或 "food"。
        // [xyz]	    字符集合。匹配所包含的任意一个字符。例如， '[abc]' 可以匹配 "plain" 中的 'a'。
        // [^xyz]	    负值字符集合。匹配未包含的任意字符。例如， '[^abc]' 可以匹配 "plain" 中的'p'。
        // [a-z]	    字符范围。匹配指定范围内的任意字符。例如，'[a-z]' 可以匹配 'a' 到 'z' 范围内的任意小写字母字符。
        // [^a-z]	    负值字符范围。匹配任何不在指定范围内的任意字符。例如，'[^a-z]' 可以匹配任何不在 'a' 到 'z' 范围内的任意字符。
        // \b	        匹配一个单词边界，也就是指单词和空格间的位置。例如， 'er\b' 可以匹配"never" 中的 'er'，但不能匹配 "verb" 中的 'er'。
        // \B	        匹配非单词边界。'er\B' 能匹配 "verb" 中的 'er'，但不能匹配 "never" 中的 'er'。
        // \cx	        匹配由 x 指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 'c' 字符。
        // \d	        匹配一个数字字符。等价于 [0-9]。
        // \D	        匹配一个非数字字符。等价于 [^0-9]。
        // \f	        匹配一个换页符。等价于 \x0c 和 \cL。
        // \n	        匹配一个换行符。等价于 \x0a 和 \cJ。
        // \r	        匹配一个回车符。等价于 \x0d 和 \cM。
        // \s	        匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。
        // \S	        匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。
        // \t	        匹配一个制表符。等价于 \x09 和 \cI。
        // \v	        匹配一个垂直制表符。等价于 \x0b 和 \cK。
        // \w	        匹配包括下划线的任何单词字符。等价于'[A-Za-z0-9_]'。
        // \W	        匹配任何非单词字符。等价于 '[^A-Za-z0-9_]'。
        // \xn	        匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，'\x41' 匹配 "A"。'\x041' 则等价于 '\x04' & "1"。正则表达式中可以使用 ASCII 编码。.
        // \num	        匹配 num，其中 num 是一个正整数。对所获取的匹配的引用。例如，'(.)\1' 匹配两个连续的相同字符。
        // \n	        标识一个八进制转义值或一个向后引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为向后引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值。
        // \nm	        标识一个八进制转义值或一个向后引用。如果 \nm 之前至少有 nm 个获得子表达式，则 nm 为向后引用。如果 \nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的向后引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm。
        // \nml	        如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml。
        // \un	        匹配 n，其中 n 是一个用四个十六进制数字表示的 Unicode 字符。例如， \u00A9 匹配版权符号 (?)。
        // -----------------------------------------------------------------------------
        // 正则表达式的标准写法
        // -----------------------------------------------------------------------------
        // regexp = new RegExp(pattern[, flag]);
        // pattern  : 模板的用法是关键，也是本章的主要内容。
        // flag     : "i"(ignore)、"g"(global)、"m"(multiline)的组合
        //            i-忽略大小写，g-反复检索，m-多行检索     flag中没有g时，返回字符串，有g时返回字符串数组

        // 字符两侧空格 
        // \uFEFF 表示 BOM(Byte Order Mark) 即字节序标记 相关链接:http://zh.wikipedia.org/wiki/字节顺序记号
        // \xA0   表示 NBSP = CHAR(160) 即字节序标记 相关链接:http://zh.wikipedia.org/wiki/不换行空格
        'trim': /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        // 日期
        'date': /((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))/g,
        // 链接地址
        //        var re = '^((https|http|ftp|rtsp|mms)?://)'
        //            + "?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?" //ftp的user@  
        //            + "(([0-9]{1,3}\.){3}[0-9]{1,3}" // IP形式的URL- 199.194.52.184  
        //            + "|" // 允许IP和DOMAIN（域名） 
        //            + "([0-9a-z_!~*'()-]+\.)*" // 域名- www.  
        //            + "([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\." // 二级域名  
        //            + "[a-z]{2,6})" // first level domain- .com or .museum  
        //            + "(:[0-9]{1,4})?" // 端口- :80  
        //            + "((/?)|" // a slash isn't required if there is no file name  
        //            + "(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$";
        'url': "^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",
        // 电话号码
        'telephone': /(^\d+$)|((^\d+)([\d|\-]+)((\d+)$))|((^\+)([\d|\-]+)((\d+)$))/g,
        // 非电话号码
        'non-telephone': /[^\d\-\+]/g,
        // 电子邮箱
        'email': /^\w+((-\w+)|(\_\w+)|(\'\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/g,
        // QQ号
        'qq': /^\w+((-\w+)|(\_\w+)|(\'\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/g,
        // 数字
        'number': /(^-?\d+$)|(^-?\d+[\.?]\d+$)/g,
        // 非数字 
        'non-number': /[^\d\.\-]/g,
        // 整数
        'integer': /^-?\d+$/g,
        // 正整数
        'positive-integer': /^\d+$/g,
        // 非整数 
        'non-integer': /[^\d\-]/g,
        // 安全字符
        'safeText': /A-Za-z0-9_\-/g,
        // 非安全字符
        'non-safeText': /[^A-Za-z0-9_\-]/g,
        // 安全文件扩展名
        'fileExt': 'jpg,gif,jpeg,png,bmp,psd,sit,tif,tiff,eps,png,ai,qxd,pdf,cdr,zip,rar',
        // 其他规则
        'en-us': {
            // 美国邮编规则
            'zipcode': /^\d{5}-\d{4}$|^\d{5}$/g
        },
        'zh-cn': {
            'identityCard': /(^\d{15}$)|(^\d{18}$)|(^\d{17}[X|x]$)/g,
            // 中国邮编规则 
            'zipcode': /^\d{6}$/g
        }
    },

    /*#region 函数:match(options)*/
    /**
    * 匹配
    */
    match: function(options)
    {
        // 文本信息
        var text = String(options.text);
        // 忽略大小写
        var ignoreCase = options.ignoreCase;
        // 规则名称
        var regexpName = options.regexpName;
        // 规则
        var regexp = typeof (options.regexp) === 'undefined' ? undefined : new RegExp(options.regexp);

        if (ignoreCase === 1)
        {
            text = text.toLowerCase();
        }

        // 如果没有填写规则，并且填写了内置规则名称，则使用内置规则。
        if (typeof (regexp) === 'undefined' && typeof (regexpName) !== 'undefined')
        {
            regexp = x.expressions.rules[regexpName];
        }

        return text.match(regexp);
    },
    /*#endregion*/

    /*#region 函数:exists(options)*/
    /**
    * 利用正则表达式验证字符串规则
    * @method exists
    * @memberof x.expressions
    * @param {object} options 选项信息
    * @example
    * // result = false;
    * var result = x.expressions.exists({
    *   text:'12345a',
    *   regexpName: 'number',
    *   ignoreCase: ture
    * });
    *
    * @example
    * // result = false;
    * var result = x.expressions.exists({
    *   text:'12345a',
    *   regexp: /^\d+$/g,
    *   ignoreCase: ture
    * });
    */
    exists: function(options)
    {
        var text = String(options.text);
        // 忽略大小写
        var ignoreCase = options.ignoreCase;
        // 规则名称
        var regexpName = options.regexpName;
        // 规则
        var regexp = typeof (options.regexp) === 'undefined' ? undefined : new RegExp(options.regexp);

        if (ignoreCase)
        {
            text = text.toLowerCase();
        }

        // 如果没有填写规则，并且填写了内置规则名称，则使用内置规则。
        if (typeof (regexp) === 'undefined' && typeof (regexpName) !== 'undefined')
        {
            regexp = x.expressions.rules[regexpName];
        }

        return text.exists(regexp);
    },
    /*#endregion*/

    /*#region 函数:isFileExt(path, allowFileExt)*/
    /**
    * 验证文件的扩展名.
    * @method isFileExt
    * @memberof x.expressions
    * @param {string} path 文件路径
    * @param {string} allowFileExt 允许的扩展名, 多个以半角逗号隔开
    */
    isFileExt: function(path, allowFileExt)
    {
        var result = false;

        var ext = path.substr(path.lastIndexOf('.'), path.length - path.lastIndexOf('.'));

        var extValue = ((allowFileExt) ? allowFileExt : x.expressions.rules['fileExt']);

        ext = ext.replace('.', '');

        if (extValue.indexOf(',') != -1)
        {
            var list = extValue.split(',');

            for (var i = 0; i &lt; list.length; i++)
            {
                if (ext.toLowerCase() == list[i])
                {
                    result = true;
                    break;
                }
            }
        }
        else
        {
            if (ext.toLowerCase() == extValue)
            {
                result = true;
            }
        }

        return result;
    },
    /*#endregion*/

    /*#region 函数:isUrl(text)*/
    /**
    * 验证URL地址格式
    * @method isUrl
    * @memberof x.expressions
    * @param {string} text 文本信息
    */
    isUrl: function(text)
    {
        return text.toLowerCase().exists(x.expressions.rules['url']);
    },
    /*#endregion*/

    /*#region 函数:isEmail(text)*/
    /*
    * 验证Email地址格式
    * @method isEmail
    * @memberof x.expressions
    * @param {string} text 文本信息
    */
    isEmail: function(text)
    {
        return text.toLowerCase().exists(x.expressions.rules['email']);
    },
    /*#endregion*/

    /*#region 函数:isZipcode(text, nature))*/
    /*
    * 验证邮编
    * @method isZipcode
    * @memberof x.expressions
    * @param {string} text 文本信息
    * @param {string} nature 区域信息
    */
    isZipcode: function(text, nature)
    {
        nature = x.formatNature(nature);

        return text.exists(x.expressions.rules[nature]['zipcode']);
    },
    /*#endregion*/

    /*#region 函数:isSafeText(text)*/
    /**
    * 验证输入的字符串是否为安全字符, 即只允许字母、数字、下滑线。
    * @method isSafeText
    * @memberof x.expressions
    * @param {string} text 文本信息
    */
    isSafeText: function(text)
    {
        return text.exists(x.expressions.rules['safeText']);
    },
    /*#endregion*/

    /*#region 函数:formatTelephone(text)*/
    /**
    * 格式化输入的输入的文本为电话号码.
    * @method formatTelephone
    * @memberof x.expressions
    * @param {string} text 文本信息
    */
    formatTelephone: function(text)
    {
        return text.replace(x.expressions.rules['non-telephone'], '');
    },
    /*#endregion*/

    /*#region 函数:formatInteger(value, removePaddingZero)*/
    /**
    * 格式化输入的输入的文本为整数.
    * @method formatInteger
    * @memberof x.expressions
    * @param {string} value 文本信息
    * @param {bool} [removePaddingZero] 移除两侧多余的零
    * @example
    * var value = '12345a';
    * // return value = '12345'
    * value = x.expressions.formatInteger(value);
    * @example
    * var value = '012345';
    * // return value = '12345'
    * value = x.expressions.formatInteger(value, true);
    */
    formatInteger: function(value, removePaddingZero)
    {
        // number : ^\d
        value = String(value).replace(x.expressions.rules['non-integer'], '');

        if (x.string.trim(value) === '')
        {
            value = '0';
        }

        // 去除两侧多余的零
        if (removePaddingZero)
        {
            value = parseInt(value, 10);
        }

        return value;
    },
    /*#endregion*/

    /*#region 函数:formatNumber(value, removePaddingZero)*/
    /**
    * 格式化输入的输入的文本为数字.
    * @method formatInteger
    * @memberof x.expressions
    * @param {string} value 文本信息
    * @param {bool} [removePaddingZero] 移除两侧多余的零
    * @example
    * var value = '12345.00a';
    * // return value = '12345'
    * value = x.expressions.formatInteger(value);
    * @example
    * var value = '012345.00';
    * // return value = '12345'
    * value = x.expressions.formatInteger(value, true);
    */
    formatNumber: function(value, removePaddingZero)
    {
        value = String(value).replace(x.expressions.rules['non-number'], '');

        // 检测空字符串
        value = (value.trim() === '') ? '0' : value;

        // 去除两侧多余的零
        if (removePaddingZero)
        {
            value = parseFloat(value, 10);
        }

        return value;
    },
    /*#endregion*/

    /*#region 函数:formatNumberRound2(value, removePaddingZero)*/
    /**
    * 格式化输入的文本统一为保留小数点后面两位的数字。
    * @method formatNumberRound2
    * @memberof x.expressions
    * @param {string} value 文本信息
    * @param {bool} [removePaddingZero] 移除两侧多余的零
    * @example
    * var value = '12345';
    * // return value = '12345.00'
    * value = x.expressions.formatNumberRound2(value);
    */
    formatNumberRound2: function(value, removePaddingZero)
    {
        if (typeof (removePaddingZero) === 'undefined')
        {
            removePaddingZero = 1;
        }

        var text = '' + Math.round(x.expressions.formatNumber(value) * 100) / 100;

        var index = text.indexOf('.');

        if (index &lt; 0)
        {
            return text + '.00';
        }

        var text = text.substring(0, index + 1) + text.substring(index + 1, index + 3);

        if (index + 2 == text.length)
        {
            text += '0';
        }

        // 去除两侧多余的零
        if (removePaddingZero)
        {
            value = parseFloat(text);
        }

        return value;
    },
    /*#endregion*/

    /*#region 函数:formatSafeText(text)*/
    /**
    * 格式化输入的文本为安全字符(常用于登录名和拼音字母的检测)
    * @method formatSafeText
    * @memberof x.expressions
    * @param {string} text 文本信息
    * @example
    * var text = 'abcd-$1234';
    * // return value = 'abcd1234'
    * text = x.expressions.formatSafeText(text);
    */
    formatSafeText: function(text)
    {
        return text.replace(x.expressions.rules['non-safeText'], '');
    }
    /*#endregion*/
};
</code></pre>
        </article>
    </section>




</div>

<br clear="both">

<footer>
    文档生成工具 <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> , 生成时间 2014-07-31T01:23:53.005Z.
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
