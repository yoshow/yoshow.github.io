<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: D:/GitHub/x-client-api/bin/x.util.js - 帮助手册</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script >
    window.onload = function()
    {
        var div = document.getElementById('main');
        if(div)
        {
            var windowWidth = null;

            if (window.innerWidth)
            {
                // all except Explorer
                if (document.documentElement.clientWidth)
                {
                    windowWidth = document.documentElement.clientWidth;
                }
                else
                {
                    windowWidth = window.innerWidth;
                }
            }
            else if (document.documentElement && document.documentElement.clientWidth)
            {
                // IE
                windowWidth = document.documentElement.clientWidth;
            }
            else if (document.body)
            {
                // other Explorers
                windowWidth = document.body.clientWidth;
            }

            div.style.width = (windowWidth - 260) + 'px';
        }
    }
    </script>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<nav>
    <h2><a href="index.html">首页</a></h2><h3>类<br />Classes</h3><ul><li><a href="Array.html">Array</a></li><li><a href="Object.html">Object</a></li><li><a href="String.html">String</a></li><li><a href="x.browser.html">browser</a></li><li><a href="x.browserFeatures.html">browserFeatures</a></li><li><a href="x.mask.newMaskWrapper.html">newMaskWrapper</a></li><li><a href="x.net.request.html">request</a></li><li><a href="x.newHashTable.html">newHashTable</a></li><li><a href="x.newQueue.html">newQueue</a></li><li><a href="x.newStack.html">newStack</a></li><li><a href="x.newStringBuilder.html">newStringBuilder</a></li><li><a href="x.newTimer.html">newTimer</a></li><li><a href="x.ui.mask.newMaskWrapper.html">newMaskWrapper</a></li></ul><h3>名称空间<br />Namespaces</h3><ul><li><a href="x.html">x</a></li><li><a href="x.cookies.html">x.cookies</a></li><li><a href="x.css.html">x.css</a></li><li><a href="x.date.html">x.date</a></li><li><a href="x.debug.html">x.debug</a></li><li><a href="x.expressions.html">x.expressions</a></li><li><a href="x.guid.html">x.guid</a></li><li><a href="x.mask.html">x.mask</a></li><li><a href="x.net.html">x.net</a></li><li><a href="x.page.html">x.page</a></li><li><a href="x.randomText.html">x.randomText</a></li><li><a href="x.string.html">x.string</a></li><li><a href="x.ui.mask.html">x.ui.mask</a></li><li><a href="x.util.html">x.util</a></li><li><a href="x.windows.html">x.windows</a></li></ul>
</nav>

<div id="main">

    <h1 class="page-title">Source: D:/GitHub/x-client-api/bin/x.util.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>﻿// =============================================================================
//
// Copyright (c) 2010 ruanyu@live.com
//
// FileName     :x.util.js
//
// Description  :
//
// Author       :Max
//
// Date         :2010-01-01
//
// =============================================================================

define(['jquery', 'x'], function($, x)
{
    /**
    * @namespace util
    * @memberof x
    * @description 常用工具类库
    */
    x.util = {

        /*#region 函数:htmlEncode(text)*/
        /**
        * Html 编码  
        * @method htmlEncode
        * @memberof x.util
        * @param {string} text 文本信息
        */
        htmlEncode: function(text)
        {
            // 空值判断
            if (text.length === 0) { return ''; }

            var outString = text.replace(/&amp;/g, '&amp;amp;');

            outString = outString.replace(/&lt;/g, '&amp;lt;');
            outString = outString.replace(/>/g, '&amp;gt;');
            outString = outString.replace(/ /g, '&amp;nbsp;');
            outString = outString.replace(/\'/g, '&amp;#39;');
            outString = outString.replace(/\"/g, '&amp;quot;');
            outString = outString.replace(/\n/g, '&lt;br />');

            return outString;
        },
        /*#endregion*/

        /*#region 函数:htmlDecode(text)*/
        /**
        * html 解码
        */
        htmlDecode: function(text)
        {
            // 空值判断
            if (text.length === 0) { return ''; }

            var outString = '';

            outString = text.replace(/&amp;amp;/g, "&amp;");

            outString = outString.replace(/&amp;lt;/g, "&lt;");
            outString = outString.replace(/&amp;gt;/g, ">");
            outString = outString.replace(/&amp;nbsp;/g, "  ");
            outString = outString.replace(/&amp;#39;/g, "\'");
            outString = outString.replace(/&amp;quot;/g, "\"");
            outString = outString.replace(/&lt;br \/>/g, "\n");

            return outString;
        },
        /*#endregion*/

        /**
        * unicode 编码
        */
        unicodeEncode: function(text)
        {
            if (text.length > 0)
            {
                var outString = '';

                for (var i = 0; i &lt; text.length; i++)
                {
                    var temp = text.charCodeAt(i).toString(16);

                    if (temp.length &lt; 4)
                    {
                        while (temp.length &lt; 4)
                        {
                            temp = '0'.concat(temp);
                        }
                    }

                    // temp = '\\u' + temp.slice(2, 4).concat(temp.slice(0, 2));
                    temp = '\\u' + temp;

                    outString = outString.concat('\\u' + temp);
                }

                return outString.toLowerCase();
            }
            else
            {
                return '';
            }
        },

        /**
        * unicode 解码
        */
        unicodeDecode: function(text)
        {
            if (text.length > 0)
            {
                var outString = '';

                var list = text.match(/([\w]+)|(\\u([\w]{4}))/g);

                if (list != null)
                {
                    list.each(function(node, index)
                    {
                        if (node.indexOf('\\u') == 0)
                        {
                            outString += String.fromCharCode(parseInt(node.slice(2, 6), 16));
                        }
                        else
                        {
                            outString += node;
                        }
                    });
                }

                return outString;
            }
            else
            {
                return '';
            }
        },

        /**
        * 设置元素的位置
        *
        * @element	: 元素
        * @pointX   : 坐标x.
        * @pointY	: Y坐标
        */
        setLocation: function(element, pointX, pointY)
        {
            $(element).css({
                'position': 'fixed',
                'left': pointX + 'px',
                'top': pointY + 'px'
            });
        },

        /**
        * 设置容器的透明度
        *
        * container: 容器对象
        * value : 范围 0.0-0.9
        */
        setAlpha: function(element, value)
        {
            if (x.browser.ie)
            {
                // IE
                element.style.filter = 'alpha(opacity:' + (value * 100) + ')';
            }
            else
            {
                //其他浏览器
                element.style.MozOpacity = value;
            }
        },

        /**
        * 设置Flash元素
        *
        * @element	    : 元素
        * @url			: Falsh的地址.
        * @widht		: Falsh的宽度.
        * @height		: Falsh的高度.
        */
        setFlash: function(element, url, width, height, summary)
        {
            var outString = '';

            if (typeof (summary) === 'undefined') { summary = ''; }

            outString += '&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" '
			+ 'codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11" '
			+ 'width="' + width + '" height="' + height + '" title="' + summary + '"> '
			+ '&lt;param name="movie" value="' + url + '" />'
			+ '&lt;param name="quality" value="high" />'
			+ '&lt;embed src="' + url + '" quality="high" '
			+ 'pluginspage="http://www.macromedia.com/go/getflashplayer" '
			+ 'type="application/x-shockwave-flash" '
			+ 'width="' + width + '" height="' + height + '">&lt;/embed>'
			+ '&lt;/object>';

            element.innerHTML = outString;
        },

        /**
        * 在页面上打开QQ链接
        *
        * @element 元素
        * @param qq QQ 号码
        * @param site 来源的站点信息
        */
        setQQ: function(element, qq, site)
        {
            var outString = '';

            if (!(qq === '' || qq === '0'))
            {
                outString += '&lt;a target="_blank" href="tencent://message/?uin=';
                outString += qq + '&amp;site=' + ((site) ? site : 'localhost');
                outString += '&amp;menu=yes" alt="QQ:' + qq + '" >' + qq + "&lt;/a>";
            }

            $(element).html(outString);
        }
    };

    return x.util;
});</code></pre>
        </article>
    </section>




</div>

<br clear="both">

<footer>
    文档生成工具 <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> , 生成时间 2014-01-25T06:50:02.050Z.
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
